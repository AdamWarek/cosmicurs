/* Cosmos — Space theme (from images/design-palette.txt & cosmos-website-plan.md) */
:root {
  --bg-main: #0a0a1a;
  --text-primary: #ffffff;
  --accent-gold: #f0c040;
  --accent-blue: #4fc3f7;
  --bg-nav: rgba(10, 10, 26, 0.92);
  --card-bg: rgba(79, 195, 247, 0.06);
  --card-border: rgba(79, 195, 247, 0.2);
  --font-heading: 'Orbitron', sans-serif;
  --font-body: 'Lato', sans-serif;
  --transition-fast: 0.2s ease;
  --transition-smooth: 0.35s ease;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
}

body {
  margin: 0;
  font-family: var(--font-body);
  font-weight: 400;
  color: var(--text-primary);
  background-color: var(--bg-main);
  line-height: 1.6;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  overflow-x: hidden;
  -webkit-tap-highlight-color: transparent;
}

/* Commit version badge (top-left) */
.commit-version {
  position: fixed;
  top: 0.5rem;
  left: 0.5rem;
  z-index: 101;
  font-family: ui-monospace, monospace;
  font-size: 0.7rem;
  color: rgba(255, 255, 255, 0.6);
  background: rgba(10, 10, 26, 0.8);
  padding: 0.2rem 0.5rem;
  border-radius: 0.25rem;
  border: 1px solid rgba(79, 195, 247, 0.25);
  pointer-events: none;
  user-select: none;
}

/* ----- Header & Nav ----- */
.site-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
  background: var(--bg-nav);
  backdrop-filter: blur(8px);
  border-bottom: 1px solid rgba(79, 195, 247, 0.15);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

.nav {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0.75rem 1.5rem;
}

.nav-logo {
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 1.35rem;
  color: var(--accent-gold);
  text-decoration: none;
  letter-spacing: 0.05em;
}

.nav-logo:hover {
  color: var(--accent-blue);
}

.nav-links {
  display: flex;
  gap: 0.25rem;
  list-style: none;
  margin: 0;
  padding: 0;
}

.nav-link {
  display: block;
  padding: 0.5rem 1rem;
  color: var(--text-primary);
  text-decoration: none;
  font-weight: 400;
  border-radius: 4px;
  transition: color var(--transition-fast), background var(--transition-fast);
}

.nav-link:hover,
.nav-link.is-active {
  color: var(--accent-gold);
}

.nav-link.is-active {
  background: rgba(240, 192, 64, 0.12);
}

/* Mobile nav toggle */
.nav-toggle {
  display: none;
  flex-direction: column;
  justify-content: center;
  gap: 5px;
  width: 40px;
  height: 40px;
  padding: 0;
  border: 1px solid var(--card-border);
  background: transparent;
  color: var(--text-primary);
  border-radius: 4px;
  cursor: pointer;
  transition: border-color var(--transition-fast);
}

.nav-toggle:hover {
  border-color: var(--accent-blue);
}

.nav-toggle-bar {
  display: block;
  width: 22px;
  height: 2px;
  margin: 0 auto;
  background: currentColor;
  transition: transform var(--transition-smooth), opacity var(--transition-smooth);
}

.nav-toggle[aria-expanded="true"] .nav-toggle-bar:nth-child(1) {
  transform: translateY(7px) rotate(45deg);
}

.nav-toggle[aria-expanded="true"] .nav-toggle-bar:nth-child(2) {
  opacity: 0;
}

.nav-toggle[aria-expanded="true"] .nav-toggle-bar:nth-child(3) {
  transform: translateY(-7px) rotate(-45deg);
}

@media (max-width: 768px) {
  .nav {
    padding: 0.6rem 1rem;
  }

  .nav-toggle {
    display: flex;
    min-width: 44px;
    min-height: 44px;
  }

  .nav-links {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    flex-direction: column;
    background: var(--bg-nav);
    backdrop-filter: blur(8px);
    border-bottom: 1px solid var(--card-border);
    padding: 0.5rem;
    gap: 0;
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: max-height var(--transition-smooth), opacity var(--transition-smooth);
  }

  .nav-links.is-open {
    max-height: 360px;
    opacity: 1;
  }

  .nav-link {
    padding: 0.875rem 1rem;
    min-height: 44px;
    display: flex;
    align-items: center;
  }
}

/* ----- Hero ----- */
.hero {
  position: relative;
  min-height: 100vh;
  overflow: hidden;
  background-color: var(--bg-main);
  background-image: url('../images/backgrounds/star2.gif');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.hero-video {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 0;
}

/* Central solar system using real images */
.solar-system {
  position: absolute;
  top: 50%;
  left: 50%;
  width: min(216vmin, 1560px);
  height: min(216vmin, 1560px);
  transform: translate(-50%, -55%);
  z-index: 1;
}

.orbit {
  position: absolute;
  top: 50%;
  left: 50%;
  border-radius: 50%;
  border: 1px solid rgba(255, 255, 255, 0.14);
  transform: translate(-50%, -50%);
}

.orbit-1 { width: 22%; height: 22%; }
.orbit-2 { width: 32%; height: 32%; }
.orbit-3 { width: 42%; height: 42%; }
.orbit-4 { width: 52%; height: 52%; }
.orbit-5 { width: 62%; height: 62%; }
.orbit-6 { width: 72%; height: 72%; }
.orbit-7 { width: 82%; height: 82%; }
.orbit-8 { width: 92%; height: 92%; }

/* Orbit animation — planets spin slowly around the sun */
@keyframes orbit {
  from { transform: translate(-50%, -50%) rotate(0deg); }
  to   { transform: translate(-50%, -50%) rotate(360deg); }
}

.orbit-track {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
  pointer-events: none;
}

.orbit-track-1 { width: 22%; height: 22%; animation: orbit 60s linear infinite; }
.orbit-track-2 { width: 32%; height: 32%; animation: orbit 80s linear infinite; }
.orbit-track-3 { width: 42%; height: 42%; animation: orbit 100s linear infinite; }
.orbit-track-4 { width: 52%; height: 52%; animation: orbit 120s linear infinite; }
.orbit-track-5 { width: 62%; height: 62%; animation: orbit 140s linear infinite; }
.orbit-track-6 { width: 72%; height: 72%; animation: orbit 160s linear infinite; }
.orbit-track-7 { width: 82%; height: 82%; animation: orbit 180s linear infinite; }
.orbit-track-8 { width: 92%; height: 92%; animation: orbit 200s linear infinite; }

.sun {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 26%;
  height: 26%;
  transform: translate(-50%, -50%);
  overflow: hidden;
  border-radius: 50%;
}

.sun img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  object-position: center;
  transform: scale(1.0);
  box-shadow:
    0 0 40px rgba(255, 193, 7, 0.9),
    0 0 90px rgba(255, 152, 0, 0.6);
}

.planet {
  position: absolute;
  left: 100%;
  top: 50%;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  display: block;
  pointer-events: auto;
  box-shadow: 0 0 10px rgba(79, 195, 247, 0.6);
  transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.planet img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
}

/* Planet scaling — adjust scale value per planet as needed */
.planet-mercury canvas { width: 100% !important; height: 100% !important; border-radius: 50%; display: block; }

/* Planet zoom state */
.planet-zoom-overlay {
  position: fixed;
  inset: 0;
  z-index: 45;
  background: transparent; /* No background color */
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.4s ease;
}

.planet-zoomed-active .planet-zoom-overlay {
  opacity: 1;
  pointer-events: auto;
}

/* Hide all other planets and orbits when zoomed */
.planet-zoomed-active .orbit,
.planet-zoomed-active .sun,
.planet-zoomed-active .orbit-track {
  display: none !important;
}

/* Show only the zoomed planet's track and stop its animation */
.mercury-zoomed .orbit-track-1,
.venus-zoomed .orbit-track-2,
.earth-zoomed .orbit-track-3,
.mars-zoomed .orbit-track-4,
.jupiter-zoomed .orbit-track-5,
.saturn-zoomed .orbit-track-6,
.uranus-zoomed .orbit-track-7,
.neptune-zoomed .orbit-track-8 {
  display: block !important;
  animation: none !important;
  transform: translate(-50%, -50%) rotate(0deg) !important;
  z-index: 50;
}

.planet-zoomed-active .solar-system {
  z-index: 46;
  width: min(216vmin, 1560px);
  height: min(216vmin, 1560px);
  transform: translate(-50%, -55%);
}

.planet-zoomed-active .planet {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) !important;
  width: min(75vmin, 500px) !important;
  height: min(75vmin, 500px) !important;
  z-index: 51;
  transition: all 0.4s ease;
  pointer-events: auto;
  cursor: grab;
}

.planet-grabbed-active .planet {
  cursor: grabbing;
}

[class*="-zoomed"] .planet::after {
  content: 'Click to grab';
  position: absolute;
  bottom: -2.5rem;
  left: 50%;
  transform: translateX(-50%);
  font-family: var(--font-heading);
  font-size: 1rem;
  color: var(--accent-gold);
  white-space: nowrap;
  letter-spacing: 0.1em;
  text-transform: capitalize;
}

.planet-grabbed-active .planet::after {
  content: 'Click to release';
}

.planet-released-active .planet::after {
  content: 'Click to return';
}

/* Planet-specific labels for clarity */
.mercury-zoomed .planet::after { content: 'Mercury - ' attr(data-label-suffix); }
.venus-zoomed .planet::after { content: 'Venus - ' attr(data-label-suffix); }
.earth-zoomed .planet::after { content: 'Earth - ' attr(data-label-suffix); }
.mars-zoomed .planet::after { content: 'Mars - ' attr(data-label-suffix); }
.jupiter-zoomed .planet::after { content: 'Jupiter - ' attr(data-label-suffix); }
.saturn-zoomed .planet::after { content: 'Saturn - ' attr(data-label-suffix); }
.uranus-zoomed .planet::after { content: 'Uranus - ' attr(data-label-suffix); }
.neptune-zoomed .planet::after { content: 'Neptune - ' attr(data-label-suffix); }

/* Default suffix if not set */
.planet-zoomed-active .planet { --label-suffix: 'Click to grab'; }
.planet-grabbed-active .planet { --label-suffix: 'Click to release'; }
.planet-released-active .planet { --label-suffix: 'Click to return'; }

/* Simplified labels using class-based content */
.planet-zoomed-active .planet::after { content: 'Click to grab'; }
.planet-grabbed-active .planet::after { content: 'Click to release'; }
.planet-released-active .planet::after { content: 'Click to return'; }

.mercury-zoomed .planet::after { content: 'Mercury - Click to grab'; }
.venus-zoomed .planet::after { content: 'Venus - Click to grab'; }
.earth-zoomed .planet::after { content: 'Earth - Click to grab'; }
.mars-zoomed .planet::after { content: 'Mars - Click to grab'; }
.jupiter-zoomed .planet::after { content: 'Jupiter - Click to grab'; }
.saturn-zoomed .planet::after { content: 'Saturn - Click to grab'; }
.uranus-zoomed .planet::after { content: 'Uranus - Click to grab'; }
.neptune-zoomed .planet::after { content: 'Neptune - Click to grab'; }

.planet-grabbed-active.mercury-zoomed .planet::after { content: 'Mercury - Click to release'; }
.planet-grabbed-active.venus-zoomed .planet::after { content: 'Venus - Click to release'; }
.planet-grabbed-active.earth-zoomed .planet::after { content: 'Earth - Click to release'; }
.planet-grabbed-active.mars-zoomed .planet::after { content: 'Mars - Click to release'; }
.planet-grabbed-active.jupiter-zoomed .planet::after { content: 'Jupiter - Click to release'; }
.planet-grabbed-active.saturn-zoomed .planet::after { content: 'Saturn - Click to release'; }
.planet-grabbed-active.uranus-zoomed .planet::after { content: 'Uranus - Click to release'; }
.planet-grabbed-active.neptune-zoomed .planet::after { content: 'Neptune - Click to release'; }

.planet-released-active.mercury-zoomed .planet::after { content: 'Mercury - Click to return'; }
.planet-released-active.venus-zoomed .planet::after { content: 'Venus - Click to return'; }
.planet-released-active.earth-zoomed .planet::after { content: 'Earth - Click to return'; }
.planet-released-active.mars-zoomed .planet::after { content: 'Mars - Click to return'; }
.planet-released-active.jupiter-zoomed .planet::after { content: 'Jupiter - Click to return'; }
.planet-released-active.saturn-zoomed .planet::after { content: 'Saturn - Click to return'; }
.planet-released-active.uranus-zoomed .planet::after { content: 'Uranus - Click to return'; }
.planet-released-active.neptune-zoomed .planet::after { content: 'Neptune - Click to return'; }

.planet-venus canvas { width: 100% !important; height: 100% !important; border-radius: 50%; display: block; }
.planet-earth canvas { width: 100% !important; height: 100% !important; display: block; }
.planet-mars canvas { width: 100% !important; height: 100% !important; border-radius: 50%; display: block; }
.planet-jupiter canvas { width: 100% !important; height: 100% !important; border-radius: 50%; display: block; }
.planet-saturn canvas { width: 100% !important; height: 100% !important; border-radius: 50%; display: block; }
.planet-uranus canvas { width: 100% !important; height: 100% !important; border-radius: 50%; display: block; }
.planet-neptune canvas { width: 100% !important; height: 100% !important; border-radius: 50%; display: block; }

.planet:hover {
  transform: translate(-50%, -50%) scale(1.25);
  box-shadow: 0 0 20px rgba(79, 195, 247, 0.9);
}

.planet:active {
  transform: translate(-50%, -50%) scale(1.15);
  box-shadow: 0 0 18px rgba(79, 195, 247, 0.85);
}

/* Planet sizes (percentage of orbit track) — Adjusted relative scale for inner planets */
.planet-mercury { width: 12%; height: 12%; overflow: hidden; }  /* orbit 1 */
.planet-venus   { width: 28%; height: 28%; overflow: hidden; }  /* orbit 2 */
.planet-earth   { width: 30%; height: 30%; overflow: visible !important; }  /* orbit 3 */
.planet-mars    { width: 16%; height: 16%; overflow: hidden; }  /* orbit 4 */
.planet-jupiter { width: 24%; height: 24%; overflow: hidden; } /* orbit 5 */
.planet-saturn  { width: 18%; height: 18%; overflow: hidden; } /* orbit 6 */
.planet-uranus  { width: 12%; height: 12%; overflow: hidden; } /* orbit 7 */
.planet-neptune { width: 11%; height: 11%; overflow: hidden; } /* orbit 8 */

.hero-footer {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 2;
  padding: 0.75rem 1.5rem;
  text-align: center;
  background: linear-gradient(to top, rgba(10, 10, 26, 0.95), transparent);
}

.hero-cta {
  display: inline-block;
  padding: 0.6rem 1.5rem;
  font-family: var(--font-heading);
  font-weight: 600;
  font-size: 0.85rem;
  letter-spacing: 0.05em;
  color: var(--bg-main);
  background: var(--accent-gold);
  border-radius: 4px;
  text-decoration: none;
  transition: background var(--transition-fast), transform var(--transition-fast);
}

.hero-cta:hover {
  background: var(--accent-blue);
  color: var(--text-primary);
  transform: scale(1.03);
}

@media (max-width: 768px) {
  .commit-version {
    font-size: 0.6rem;
    padding: 0.15rem 0.4rem;
    top: 0.35rem;
    left: 0.35rem;
  }

  .solar-system {
    width: min(100vmin, 600px);
    height: min(100vmin, 600px);
  }

  .content-section {
    padding: 2rem 1rem;
  }

  .container {
    padding: 0 0.5rem;
  }

  .intro-text {
    font-size: 1rem;
  }

  .cards-heading {
    font-size: 1.35rem;
    margin-bottom: 1.5rem;
  }

  .cards-grid {
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  .card {
    padding: 1.25rem;
  }

  .hero-cta {
    padding: 0.75rem 1.5rem;
    min-height: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .site-footer {
    padding: 1.5rem 1rem;
  }

  .footer-credits {
    font-size: 0.8rem;
  }
}

@media (max-width: 600px) {
  .solar-system {
    width: min(95vmin, 500px);
    height: min(95vmin, 500px);
    transform: translate(-50%, -52%);
  }

  .hero-footer {
    padding: 0.6rem 1rem;
  }
}

@media (max-width: 480px) {
  .commit-version {
    display: none;
  }

  .solar-system {
    width: min(90vmin, 400px);
    height: min(90vmin, 400px);
  }

  .nav-logo {
    font-size: 1.15rem;
  }

  .content-section {
    padding: 1.5rem 0.75rem;
  }
}

/* ----- Content sections ----- */
.content-section {
  padding: 3rem 1.5rem;
}

.container {
  max-width: 1000px;
  margin: 0 auto;
}

.intro-text {
  font-size: 1.15rem;
  text-align: center;
  max-width: 640px;
  margin: 0 auto;
  color: rgba(255, 255, 255, 0.9);
}

/* ----- Cards ----- */
.cards-heading {
  font-family: var(--font-heading);
  font-weight: 600;
  font-size: 1.5rem;
  letter-spacing: 0.05em;
  text-align: center;
  margin: 0 0 2rem;
  color: var(--accent-gold);
}

.cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1.5rem;
}

.card {
  display: block;
  padding: 1.75rem;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: 8px;
  text-decoration: none;
  color: var(--text-primary);
  transition: border-color var(--transition-smooth), transform var(--transition-smooth),
    box-shadow var(--transition-smooth);
}

.card:hover {
  border-color: var(--accent-blue);
  transform: translateY(-4px);
  box-shadow: 0 8px 32px rgba(79, 195, 247, 0.2);
}

.card-icon {
  width: 48px;
  height: 48px;
  margin-bottom: 1rem;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent-blue), var(--accent-gold));
  opacity: 0.8;
}

.card-title {
  font-family: var(--font-heading);
  font-weight: 600;
  font-size: 1.2rem;
  margin: 0 0 0.5rem;
  color: var(--text-primary);
}

.card-desc {
  margin: 0;
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.75);
}

/* ----- Footer ----- */
.site-footer {
  margin-top: auto;
  padding: 2rem 1.5rem;
  border-top: 1px solid rgba(79, 195, 247, 0.15);
  text-align: center;
}

.footer-brand {
  font-family: var(--font-heading);
  font-weight: 600;
  color: var(--accent-gold);
  margin: 0 0 0.25rem;
}

.footer-credits {
  margin: 0;
  font-size: 0.875rem;
  color: rgba(255, 255, 255, 0.6);
}
